<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Development of a Runtime Measurement System</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Navigation -->
    <nav class="navmenu">
        <div class="navlink">
            <a href="index.html">Home</a>
            <a href="housing.html">Housing Calculator</a>
            <a href="inflation.html">Inflation Calculator</a>
            <a href="tax.html">Bruttoverdienst-Analyse</a>
            <a href="social.html">Sozialversicherungsbeiträge-Analyse</a>
            <a href="fpga.html" class="current">Development of a Runtime Measurement System</a>
        </div>
    </nav>

    <h2>Development of a runtime measurement system</h2>

    <p>I am developing a system designed to accurately measure and analyze runtime of various software or hardware
        processes. The idea for this system arose from the need for precise timing and measurement solutions within the
        context of embedded systems development.</p>

    <p>Software Based measurements are popular and easy to realize. Though change the system under test since you add
        measurement code. Accuracy is limited and dependent on the speed the embedded system is clocked and the overhead
        introduced by the software-defined runtime measurement.<br>
        Resulting in changing the time behaviour of the system. This is not what you want.<br>
        <br>
        To reduce the intrusiveness, changing the measurement methodology using external hardware can be useful.
    </p>

    <h2>Let's take a look at the development process. Our Use Case.</h2>
    <p>The system under test (System A) handles two distinct events: Event A (entering) and Event B (exiting).</p>

    <div class="svg-container">
        <svg viewBox="0 0 700 250" preserveAspectRatio="xMidYMid meet">
            <!-- System A Box -->
            <rect x="200" y="30" width="300" height="80" fill="#e8f4f8" stroke="#333" stroke-width="2" />
            <text x="350" y="75" text-anchor="middle" font-size="18" font-weight="bold">System A</text>

            <!-- Event A (entering) -->
            <circle cx="150" cy="70" r="8" fill="#228B22" />
            <text x="150" y="55" text-anchor="middle" font-size="14" font-weight="bold">Event A</text>
            <line x1="158" y1="70" x2="200" y2="70" stroke="#228B22" stroke-width="2" marker-end="url(#arrowgreen)" />

            <!-- Event B (exiting) -->
            <circle cx="550" cy="70" r="8" fill="#B22222" />
            <text x="550" y="55" text-anchor="middle" font-size="14" font-weight="bold">Event B</text>
            <line x1="500" y1="70" x2="542" y2="70" stroke="#B22222" stroke-width="2" marker-end="url(#arrowred)" />

            <!-- Arrow markers -->
            <defs>
                <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#228B22" />
                </marker>
                <marker id="arrowred" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#B22222" />
                </marker>
            </defs>
        </svg>
    </div>

    <p>These events are represented by rising and falling edges on a digital signal line. The time interval between
        these two events (tB - tA) represents the runtime of the process we want to measure.</p>
    <div class="svg-container">
        <svg viewBox="0 0 700 250" preserveAspectRatio="xMidYMid meet">
            <!-- System A Box -->
            <rect x="200" y="30" width="300" height="80" fill="#e8f4f8" stroke="#333" stroke-width="2" />
            <text x="350" y="75" text-anchor="middle" font-size="18" font-weight="bold">System A</text>

            <!-- Event A (entering) -->
            <circle cx="150" cy="70" r="8" fill="#228B22" />
            <text x="150" y="55" text-anchor="middle" font-size="14" font-weight="bold">Event A</text>
            <line x1="158" y1="70" x2="200" y2="70" stroke="#228B22" stroke-width="2" marker-end="url(#arrowgreen)" />

            <!-- Event B (exiting) -->
            <circle cx="550" cy="70" r="8" fill="#B22222" />
            <text x="550" y="55" text-anchor="middle" font-size="14" font-weight="bold">Event B</text>
            <line x1="500" y1="70" x2="542" y2="70" stroke="#B22222" stroke-width="2" marker-end="url(#arrowred)" />

            <!-- Arrow markers -->
            <defs>
                <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#228B22" />
                </marker>
                <marker id="arrowred" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#B22222" />
                </marker>
            </defs>

            <!-- Timing Diagram -->
            <text x="50" y="160" font-size="16" font-weight="bold">Signal:</text>

            <!-- Time axis -->
            <line x1="150" y1="200" x2="550" y2="200" stroke="#333" stroke-width="1" />

            <!-- Signal waveform -->
            <!-- LOW state -->
            <line x1="150" y1="200" x2="200" y2="200" stroke="#0066cc" stroke-width="3" />
            <!-- Rising edge at tA -->
            <line x1="200" y1="200" x2="200" y2="160" stroke="#0066cc" stroke-width="3" />
            <!-- HIGH state -->
            <line x1="200" y1="160" x2="500" y2="160" stroke="#0066cc" stroke-width="3" />
            <!-- Falling edge at tB -->
            <line x1="500" y1="160" x2="500" y2="200" stroke="#0066cc" stroke-width="3" />
            <!-- LOW state -->
            <line x1="500" y1="200" x2="550" y2="200" stroke="#0066cc" stroke-width="3" />

            <!-- Time markers -->
            <line x1="200" y1="200" x2="200" y2="210" stroke="#333" stroke-width="2" />
            <text x="200" y="225" text-anchor="middle" font-size="14" font-weight="bold">tA</text>

            <line x1="500" y1="200" x2="500" y2="210" stroke="#333" stroke-width="2" />
            <text x="500" y="225" text-anchor="middle" font-size="14" font-weight="bold">tB</text>

            <!-- Labels -->
            <text x="175" y="205" text-anchor="end" font-size="12">LOW</text>
            <text x="175" y="165" text-anchor="end" font-size="12">HIGH</text>

            <!-- Runtime measurement arrow -->
            <line x1="200" y1="145" x2="500" y2="145" stroke="#666" stroke-width="1" stroke-dasharray="5,5"
                marker-end="url(#arrowgray)" marker-start="url(#arrowgray2)" />
            <text x="350" y="140" text-anchor="middle" font-size="13" font-style="italic">Runtime (tB - tA)</text>

            <marker id="arrowgray" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                <path d="M0,0 L0,6 L7,3 z" fill="#666" />
            </marker>
            <marker id="arrowgray2" markerWidth="8" markerHeight="8" refX="0" refY="3" orient="auto">
                <path d="M7,0 L7,6 L0,3 z" fill="#666" />
            </marker>
        </svg>
    </div>

    <p>Since our system must fulfill specific timing requirements, tB-tA must be within the maximum allowed time
        constraints. Therefore we add the green line Δ tmax allowed. </p>

    <div class="svg-container">
        <svg viewBox="0 0 700 250" preserveAspectRatio="xMidYMid meet">
            <!-- System A Box -->
            <rect x="200" y="30" width="300" height="80" fill="#e8f4f8" stroke="#333" stroke-width="2" />
            <text x="350" y="75" text-anchor="middle" font-size="18" font-weight="bold">System A</text>

            <!-- Event A (entering) -->
            <circle cx="150" cy="70" r="8" fill="#228B22" />
            <text x="150" y="55" text-anchor="middle" font-size="14" font-weight="bold">Event A</text>
            <line x1="158" y1="70" x2="200" y2="70" stroke="#228B22" stroke-width="2" marker-end="url(#arrowgreen)" />

            <!-- Event B (exiting) -->
            <circle cx="550" cy="70" r="8" fill="#B22222" />
            <text x="550" y="55" text-anchor="middle" font-size="14" font-weight="bold">Event B</text>
            <line x1="500" y1="70" x2="542" y2="70" stroke="#B22222" stroke-width="2" marker-end="url(#arrowred)" />

            <!-- Arrow markers -->
            <defs>
                <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#228B22" />
                </marker>
                <marker id="arrowred" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#B22222" />
                </marker>
            </defs>

            <!-- Timing Diagram -->
            <text x="50" y="160" font-size="16" font-weight="bold">Signal:</text>

            <!-- Time axis -->
            <line x1="150" y1="200" x2="550" y2="200" stroke="#333" stroke-width="1" />

            <!-- Signal waveform -->
            <!-- LOW state -->
            <line x1="150" y1="200" x2="200" y2="200" stroke="#0066cc" stroke-width="3" />
            <!-- Rising edge at tA -->
            <line x1="200" y1="200" x2="200" y2="160" stroke="#0066cc" stroke-width="3" />
            <!-- HIGH state -->
            <line x1="200" y1="160" x2="500" y2="160" stroke="#0066cc" stroke-width="3" />
            <!-- Falling edge at tB -->
            <line x1="500" y1="160" x2="500" y2="200" stroke="#0066cc" stroke-width="3" />
            <!-- LOW state -->
            <line x1="500" y1="200" x2="550" y2="200" stroke="#0066cc" stroke-width="3" />

            <!-- Time markers -->
            <line x1="200" y1="200" x2="200" y2="210" stroke="#333" stroke-width="2" />
            <text x="200" y="225" text-anchor="middle" font-size="14" font-weight="bold">tA</text>

            <line x1="500" y1="200" x2="500" y2="210" stroke="#333" stroke-width="2" />
            <text x="500" y="225" text-anchor="middle" font-size="14" font-weight="bold">tB</text>

            <!-- Labels -->
            <text x="175" y="205" text-anchor="end" font-size="12">LOW</text>
            <text x="175" y="165" text-anchor="end" font-size="12">HIGH</text>

            <!-- Runtime measurement arrow -->
            <line x1="200" y1="145" x2="500" y2="145" stroke="#666" stroke-width="1" stroke-dasharray="5,5"
                marker-end="url(#arrowgray)" marker-start="url(#arrowgray2)" />
            <text x="350" y="140" text-anchor="middle" font-size="13" font-style="italic">Runtime (tB - tA)</text>

            <!-- Valid range indicator -->
            <line x1="525" y1="155" x2="525" y2="210" stroke="#228B22" stroke-width="2" stroke-dasharray="5,5" />
            <text x="532" y="180" font-size="12" fill="#228B22" font-weight="bold">Δ tmax allowed</text>

            <marker id="arrowgray" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                <path d="M0,0 L0,6 L7,3 z" fill="#666" />
            </marker>
            <marker id="arrowgray2" markerWidth="8" markerHeight="8" refX="0" refY="3" orient="auto">
                <path d="M7,0 L7,6 L0,3 z" fill="#666" />
            </marker>
        </svg>
    </div>

    <p>When we look into our system, the system consists of two modules. Module 1 is responsible for processing input
        data, while Module 2 handles output data. Our System A fulfills the requirement. Therefore we release this
        system with version 1.0.</p>

    <div class="svg-container">
        <svg viewBox="0 0 700 250" preserveAspectRatio="xMidYMid meet">
            <!-- System A Box -->
            <rect x="200" y="30" width="300" height="80" fill="#e8f4f8" stroke="#333" stroke-width="2" />
            <text x="350" y="50" text-anchor="middle" font-size="18" font-weight="bold">System A</text>

            <!-- Module 1 -->
            <rect x="220" y="60" width="100" height="40" fill="#c8e6f5" stroke="#333" stroke-width="1.5" />
            <text x="270" y="83" text-anchor="middle" font-size="13" font-weight="bold">Module 1</text>

            <!-- Module 2 -->
            <rect x="360" y="60" width="100" height="40" fill="#c8e6f5" stroke="#333" stroke-width="1.5" />
            <text x="410" y="83" text-anchor="middle" font-size="13" font-weight="bold">Module 2</text>

            <!-- Arrow between modules -->
            <line x1="320" y1="80" x2="360" y2="80" stroke="#555" stroke-width="2" marker-end="url(#arrowmodule)" />

            <marker id="arrowmodule" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                <path d="M0,0 L0,6 L7,3 z" fill="#555" />
            </marker>

            <!-- Event A (entering) -->
            <circle cx="150" cy="80" r="8" fill="#228B22" />
            <text x="150" y="65" text-anchor="middle" font-size="14" font-weight="bold">Event A</text>
            <line x1="158" y1="80" x2="220" y2="80" stroke="#228B22" stroke-width="2" marker-end="url(#arrowgreen)" />

            <!-- Event B (exiting) -->
            <circle cx="550" cy="80" r="8" fill="#B22222" />
            <text x="550" y="65" text-anchor="middle" font-size="14" font-weight="bold">Event B</text>
            <line x1="460" y1="80" x2="542" y2="80" stroke="#B22222" stroke-width="2" marker-end="url(#arrowred)" />

            <!-- Arrow markers -->
            <defs>
                <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#228B22" />
                </marker>
                <marker id="arrowred" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#B22222" />
                </marker>
            </defs>

            <!-- Timing Diagram -->
            <text x="50" y="160" font-size="16" font-weight="bold">Signal:</text>

            <!-- Time axis -->
            <line x1="150" y1="200" x2="550" y2="200" stroke="#333" stroke-width="1" />

            <!-- Signal waveform -->
            <!-- LOW state -->
            <line x1="150" y1="200" x2="200" y2="200" stroke="#0066cc" stroke-width="3" />
            <!-- Rising edge at tA -->
            <line x1="200" y1="200" x2="200" y2="160" stroke="#0066cc" stroke-width="3" />
            <!-- HIGH state -->
            <line x1="200" y1="160" x2="500" y2="160" stroke="#0066cc" stroke-width="3" />
            <!-- Falling edge at tB -->
            <line x1="500" y1="160" x2="500" y2="200" stroke="#0066cc" stroke-width="3" />
            <!-- LOW state -->
            <line x1="500" y1="200" x2="550" y2="200" stroke="#0066cc" stroke-width="3" />

            <!-- Time markers -->
            <line x1="200" y1="200" x2="200" y2="210" stroke="#333" stroke-width="2" />
            <text x="200" y="225" text-anchor="middle" font-size="14" font-weight="bold">tA</text>

            <line x1="500" y1="200" x2="500" y2="210" stroke="#333" stroke-width="2" />
            <text x="500" y="225" text-anchor="middle" font-size="14" font-weight="bold">tB</text>

            <!-- Labels -->
            <text x="175" y="205" text-anchor="end" font-size="12">LOW</text>
            <text x="175" y="165" text-anchor="end" font-size="12">HIGH</text>

            <!-- Runtime measurement arrow -->
            <line x1="200" y1="145" x2="500" y2="145" stroke="#666" stroke-width="1" stroke-dasharray="5,5"
                marker-end="url(#arrowgray)" marker-start="url(#arrowgray2)" />
            <text x="350" y="140" text-anchor="middle" font-size="13" font-style="italic">Runtime (tB - tA)</text>

            <!-- Valid range indicator -->
            <line x1="525" y1="155" x2="525" y2="210" stroke="#228B22" stroke-width="2" stroke-dasharray="5,5" />
            <text x="532" y="180" font-size="12" fill="#228B22" font-weight="bold">Δ tmax allowed</text>

            <marker id="arrowgray" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                <path d="M0,0 L0,6 L7,3 z" fill="#666" />
            </marker>
            <marker id="arrowgray2" markerWidth="8" markerHeight="8" refX="0" refY="3" orient="auto">
                <path d="M7,0 L7,6 L0,3 z" fill="#666" />
            </marker>
        </svg>
    </div>
    <p>Let’s assume a fictitious customer requests a new feature for our system A. Leading to a third module being added
        to the system. After a few months the module 3 is almost completed and integrated into the system. Integration
        tests can finally be performed to ensure that the new module works correctly with the existing modules.</p>


    <div class="svg-container">
        <svg viewBox="0 0 700 250" preserveAspectRatio="xMidYMid meet">
            <!-- System A Box -->
            <rect x="200" y="30" width="400" height="80" fill="#e8f4f8" stroke="#333" stroke-width="2" />
            <text x="350" y="50" text-anchor="middle" font-size="18" font-weight="bold">System A</text>

            <!-- Module 1 -->
            <rect x="220" y="60" width="100" height="40" fill="#c8e6f5" stroke="#333" stroke-width="1.5" />
            <text x="270" y="83" text-anchor="middle" font-size="13" font-weight="bold">Module 1</text>

            <!-- Module 3 (new module - different color) -->
            <rect x="360" y="60" width="100" height="40" fill="#ffd9b3" stroke="#ff8c00" stroke-width="2" />
            <text x="410" y="83" text-anchor="middle" font-size="13" font-weight="bold">Module 3</text>

            <!-- Module 2 -->
            <rect x="490" y="60" width="100" height="40" fill="#c8e6f5" stroke="#333" stroke-width="1.5" />
            <text x="540" y="83" text-anchor="middle" font-size="13" font-weight="bold">Module 2</text>

            <!-- Arrow between Module 1 and Module 3 -->
            <line x1="320" y1="80" x2="360" y2="80" stroke="#555" stroke-width="2" marker-end="url(#arrowmodule)" />

            <!-- Arrow between Module 3 and Module 2 -->
            <line x1="460" y1="80" x2="490" y2="80" stroke="#555" stroke-width="2" marker-end="url(#arrowmodule)" />


            <marker id="arrowmodule" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                <path d="M0,0 L0,6 L7,3 z" fill="#555" />
            </marker>

            <!-- Event A (entering) -->
            <circle cx="150" cy="80" r="8" fill="#228B22" />
            <text x="150" y="65" text-anchor="middle" font-size="14" font-weight="bold">Event A</text>
            <line x1="158" y1="80" x2="220" y2="80" stroke="#228B22" stroke-width="2" marker-end="url(#arrowgreen)" />

            <!-- Event B (exiting) -->
            <circle cx="650" cy="80" r="8" fill="#B22222" />
            <text x="650" y="65" text-anchor="middle" font-size="14" font-weight="bold">Event B</text>
            <line x1="590" y1="80" x2="642" y2="80" stroke="#B22222" stroke-width="2" marker-end="url(#arrowred)" />

            <!-- Arrow markers -->
            <defs>
                <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#228B22" />
                </marker>
                <marker id="arrowred" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#B22222" />
                </marker>
            </defs>

            <!-- Timing Diagram -->
            <text x="50" y="160" font-size="16" font-weight="bold">Signal:</text>

            <!-- Time axis -->
            <line x1="150" y1="200" x2="650" y2="200" stroke="#333" stroke-width="1" />

            <!-- Signal waveform -->
            <!-- LOW state -->
            <line x1="150" y1="200" x2="200" y2="200" stroke="#0066cc" stroke-width="3" />
            <!-- Rising edge at tA -->
            <line x1="200" y1="200" x2="200" y2="160" stroke="#0066cc" stroke-width="3" />
            <!-- HIGH state -->
            <line x1="200" y1="160" x2="600" y2="160" stroke="#0066cc" stroke-width="3" />
            <!-- Falling edge at tB -->
            <line x1="600" y1="160" x2="600" y2="200" stroke="#0066cc" stroke-width="3" />
            <!-- LOW state -->
            <line x1="600" y1="200" x2="650" y2="200" stroke="#0066cc" stroke-width="3" />

            <!-- Time markers -->
            <line x1="200" y1="200" x2="200" y2="210" stroke="#333" stroke-width="2" />
            <text x="200" y="225" text-anchor="middle" font-size="14" font-weight="bold">tA</text>

            <line x1="600" y1="200" x2="600" y2="210" stroke="#333" stroke-width="2" />
            <text x="600" y="225" text-anchor="middle" font-size="14" font-weight="bold">tB</text>

            <!-- Labels -->
            <text x="175" y="205" text-anchor="end" font-size="12">LOW</text>
            <text x="175" y="165" text-anchor="end" font-size="12">HIGH</text>

            <!-- Runtime measurement arrow -->
            <line x1="200" y1="145" x2="600" y2="145" stroke="#666" stroke-width="1" stroke-dasharray="5,5"
                marker-end="url(#arrowgray)" marker-start="url(#arrowgray2)" />
            <text x="400" y="140" text-anchor="middle" font-size="13" font-style="italic">Runtime (tB - tA)</text>

            <marker id="arrowgray" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                <path d="M0,0 L0,6 L7,3 z" fill="#666" />
            </marker>
            <marker id="arrowgray2" markerWidth="8" markerHeight="8" refX="0" refY="3" orient="auto">
                <path d="M7,0 L7,6 L0,3 z" fill="#666" />
            </marker>
        </svg>
    </div>
    <p>After integrating Module 3, we observe that the runtime (tB - tA) has increased and now exceeds the maximum
        allowed time constraint (Δ tmax allowed). This indicates that the addition of Module 3 has negatively impacted
        the system's performance, leading to a violation of the timing requirements.</p>
    <!-- Replace all your SVG containers with this pattern -->
    <div class="svg-container">
        <svg viewBox="0 0 700 250" preserveAspectRatio="xMidYMid meet">
            <!-- existing SVG content stays the same -->

            <!-- System A Box -->
            <rect x="200" y="30" width="400" height="80" fill="#e8f4f8" stroke="#333" stroke-width="2" />
            <text x="350" y="50" text-anchor="middle" font-size="18" font-weight="bold">System A</text>

            <!-- Module 1 -->
            <rect x="220" y="60" width="100" height="40" fill="#c8e6f5" stroke="#333" stroke-width="1.5" />
            <text x="270" y="83" text-anchor="middle" font-size="13" font-weight="bold">Module 1</text>

            <!-- Module 3 (new module - different color) -->
            <rect x="360" y="60" width="100" height="40" fill="#ffd9b3" stroke="#ff8c00" stroke-width="2" />
            <text x="410" y="83" text-anchor="middle" font-size="13" font-weight="bold">Module 3</text>

            <!-- Module 2 -->
            <rect x="490" y="60" width="100" height="40" fill="#c8e6f5" stroke="#333" stroke-width="1.5" />
            <text x="540" y="83" text-anchor="middle" font-size="13" font-weight="bold">Module 2</text>

            <!-- Arrow between Module 1 and Module 3 -->
            <line x1="320" y1="80" x2="360" y2="80" stroke="#555" stroke-width="2" marker-end="url(#arrowmodule)" />

            <!-- Arrow between Module 3 and Module 2 -->
            <line x1="460" y1="80" x2="490" y2="80" stroke="#555" stroke-width="2" marker-end="url(#arrowmodule)" />


            <marker id="arrowmodule" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                <path d="M0,0 L0,6 L7,3 z" fill="#555" />
            </marker>

            <!-- Event A (entering) -->
            <circle cx="150" cy="80" r="8" fill="#228B22" />
            <text x="150" y="65" text-anchor="middle" font-size="14" font-weight="bold">Event A</text>
            <line x1="158" y1="80" x2="220" y2="80" stroke="#228B22" stroke-width="2" marker-end="url(#arrowgreen)" />

            <!-- Event B (exiting) -->
            <circle cx="650" cy="80" r="8" fill="#B22222" />
            <text x="650" y="65" text-anchor="middle" font-size="14" font-weight="bold">Event B</text>
            <line x1="590" y1="80" x2="642" y2="80" stroke="#B22222" stroke-width="2" marker-end="url(#arrowred)" />

            <!-- Arrow markers -->
            <defs>
                <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#228B22" />
                </marker>
                <marker id="arrowred" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#B22222" />
                </marker>
            </defs>

            <!-- Timing Diagram -->
            <text x="50" y="160" font-size="16" font-weight="bold">Signal:</text>

            <!-- Time axis -->
            <line x1="150" y1="200" x2="650" y2="200" stroke="#333" stroke-width="1" />

            <!-- Signal waveform -->
            <!-- LOW state -->
            <line x1="150" y1="200" x2="200" y2="200" stroke="#0066cc" stroke-width="3" />
            <!-- Rising edge at tA -->
            <line x1="200" y1="200" x2="200" y2="160" stroke="#0066cc" stroke-width="3" />
            <!-- HIGH state -->
            <line x1="200" y1="160" x2="600" y2="160" stroke="#0066cc" stroke-width="3" />
            <!-- Falling edge at tB -->
            <line x1="600" y1="160" x2="600" y2="200" stroke="#0066cc" stroke-width="3" />
            <!-- LOW state -->
            <line x1="600" y1="200" x2="650" y2="200" stroke="#0066cc" stroke-width="3" />

            <!-- Time markers -->
            <line x1="200" y1="200" x2="200" y2="210" stroke="#333" stroke-width="2" />
            <text x="200" y="225" text-anchor="middle" font-size="14" font-weight="bold">tA</text>

            <line x1="600" y1="200" x2="600" y2="210" stroke="#333" stroke-width="2" />
            <text x="600" y="225" text-anchor="middle" font-size="14" font-weight="bold">tB</text>

            <!-- Labels -->
            <text x="175" y="205" text-anchor="end" font-size="12">LOW</text>
            <text x="175" y="165" text-anchor="end" font-size="12">HIGH</text>

            <!-- Runtime measurement arrow -->
            <line x1="200" y1="145" x2="600" y2="145" stroke="#666" stroke-width="1" stroke-dasharray="5,5"
                marker-end="url(#arrowgray)" marker-start="url(#arrowgray2)" />
            <text x="400" y="140" text-anchor="middle" font-size="13" font-style="italic">Runtime (tB - tA)</text>

            <!-- Valid range indicator -->
            <line x1="525" y1="155" x2="525" y2="210" stroke="#FF8C00" stroke-width="2" stroke-dasharray="5,5" />
            <text x="532" y="180" font-size="12" fill="#FF8C00" font-weight="bold">Δ tmax allowed</text>

            <marker id="arrowgray" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                <path d="M0,0 L0,6 L7,3 z" fill="#666" />
            </marker>
            <marker id="arrowgray2" markerWidth="8" markerHeight="8" refX="0" refY="3" orient="auto">
                <path d="M7,0 L7,6 L0,3 z" fill="#666" />
            </marker>
        </svg>
    </div>
    <p>This case demonstrates why systematic runtime measurements should be integrated into the development workflow
        . To prevent such timing violations, implementing regular, highly automated runtime measurements during
        development phase becomes crucial.</p>


    <h2>Development Workflow with Runtime Analysis (Only Before Release)</h2>
    <div class="svg-container">
        <svg viewBox="0 0 900 400" preserveAspectRatio="xMidYMid meet">

            <!-- Main development branch line -->
            <line x1="50" y1="100" x2="850" y2="100" stroke="#4a90e2" stroke-width="4" />

            <!-- Development commits -->
            <circle cx="150" cy="100" r="12" fill="#4a90e2" stroke="#333" stroke-width="2" />
            <text x="150" y="80" text-anchor="middle" font-size="13" font-weight="bold">Dev Commit 1</text>

            <circle cx="300" cy="100" r="12" fill="#4a90e2" stroke="#333" stroke-width="2" />
            <text x="300" y="80" text-anchor="middle" font-size="13" font-weight="bold">Dev Commit 2</text>

            <circle cx="450" cy="100" r="12" fill="#4a90e2" stroke="#333" stroke-width="2" />
            <text x="450" y="80" text-anchor="middle" font-size="13" font-weight="bold">Dev Commit 3</text>

            <!-- Prerelease node -->
            <circle cx="600" cy="100" r="12" fill="#ffa500" stroke="#333" stroke-width="2" />
            <text x="600" y="80" text-anchor="middle" font-size="13" font-weight="bold">Prerelease</text>

            <!-- Branch off to runtime analysis -->
            <line x1="600" y1="100" x2="600" y2="250" stroke="#9b59b6" stroke-width="3" stroke-dasharray="5,5" />
            <line x1="600" y1="250" x2="750" y2="250" stroke="#9b59b6" stroke-width="4" />

            <!-- Runtime analysis node -->
            <rect x="690" y="230" width="120" height="40" fill="#e8d5f2" stroke="#9b59b6" stroke-width="3" rx="5" />
            <text x="750" y="255" text-anchor="middle" font-size="13" font-weight="bold">Runtime Analysis</text>

            <!-- Success/Fail decision -->
            <circle cx="750" cy="180" r="8" fill="#27ae60" stroke="#333" stroke-width="2" />
            <line x1="750" y1="230" x2="750" y2="188" stroke="#27ae60" stroke-width="3"
                marker-end="url(#arrowsuccess)" />
            <text x="770" y="210" font-size="12" fill="#27ae60" font-weight="bold">Success?</text>

            <!-- Merge back to main -->
            <line x1="750" y1="180" x2="750" y2="100" stroke="#27ae60" stroke-width="3" stroke-dasharray="5,5"
                marker-end="url(#arrowmerge)" />

            <!-- Release node -->
            <circle cx="750" cy="100" r="14" fill="#27ae60" stroke="#333" stroke-width="2" />
            <text x="750" y="80" text-anchor="middle" font-size="14" font-weight="bold">Release 1.0</text>

            <!-- Arrow markers -->
            <defs>
                <marker id="arrowsuccess" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
                    <path d="M0,0 L0,10 L10,5 z" fill="#27ae60" />
                </marker>
                <marker id="arrowmerge" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
                    <path d="M0,0 L0,10 L10,5 z" fill="#27ae60" />
                </marker>
            </defs>

            <!-- Labels for branches -->
            <text x="50" y="90" font-size="14" font-weight="bold" fill="#4a90e2">Main</text>
            <text x="620" y="270" font-size="14" font-weight="bold" fill="#9b59b6">Analysis Branch</text>

            <!-- Time arrow at bottom -->
            <line x1="50" y1="320" x2="850" y2="320" stroke="#666" stroke-width="2" marker-end="url(#arrowtime)" />
            <text x="450" y="345" text-anchor="middle" font-size="13" font-style="italic">Development Time →</text>

            <marker id="arrowtime" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
                <path d="M0,0 L0,10 L10,5 z" fill="#666" />
            </marker>

            <!-- Annotation -->
            <text x="450" y="370" text-anchor="middle" font-size="12" fill="#555">Runtime analysis executed only before
                release</text>
        </svg>
    </div>

    <h2>Proposed Development Workflow with Runtime Analysis (During Development)</h2>
    <div class="svg-container">
        <svg viewBox="0 0 900 500" preserveAspectRatio="xMidYMid meet">
        <!-- Main development branch line -->
        <line x1="50" y1="100" x2="850" y2="100" stroke="#4a90e2" stroke-width="4"/>
        
        <!-- Development Commit 1 -->
        <circle cx="150" cy="100" r="12" fill="#4a90e2" stroke="#333" stroke-width="2"/>
        <text x="150" y="80" text-anchor="middle" font-size="13" font-weight="bold">Dev Commit 1</text>
        <line x1="150" y1="112" x2="150" y2="220" stroke="#9b59b6" stroke-width="3" stroke-dasharray="5,5"/>
        <rect x="105" y="220" width="90" height="35" fill="#e8d5f2" stroke="#9b59b6" stroke-width="2" rx="5"/>
        <text x="150" y="242" text-anchor="middle" font-size="11" font-weight="bold">Runtime Analysis</text>
        <line x1="150" y1="255" x2="150" y2="280" stroke="#27ae60" stroke-width="3" marker-end="url(#arrow1)"/>
        <circle cx="150" cy="285" r="6" fill="#27ae60" stroke="#333" stroke-width="1.5"/>
        <line x1="150" y1="285" x2="150" y2="100" stroke="#27ae60" stroke-width="2" stroke-dasharray="3,3"/>
        
        <!-- Development Commit 2 -->
        <circle cx="300" cy="100" r="12" fill="#4a90e2" stroke="#333" stroke-width="2"/>
        <text x="300" y="80" text-anchor="middle" font-size="13" font-weight="bold">Dev Commit 2</text>
        <line x1="300" y1="112" x2="300" y2="220" stroke="#9b59b6" stroke-width="3" stroke-dasharray="5,5"/>
        <rect x="255" y="220" width="90" height="35" fill="#e8d5f2" stroke="#9b59b6" stroke-width="2" rx="5"/>
        <text x="300" y="242" text-anchor="middle" font-size="11" font-weight="bold">Runtime Analysis</text>
        <line x1="300" y1="255" x2="300" y2="280" stroke="#27ae60" stroke-width="3" marker-end="url(#arrow2)"/>
        <circle cx="300" cy="285" r="6" fill="#27ae60" stroke="#333" stroke-width="1.5"/>
        <line x1="300" y1="285" x2="300" y2="100" stroke="#27ae60" stroke-width="2" stroke-dasharray="3,3"/>
        
        <!-- Development Commit 3 -->
        <circle cx="450" cy="100" r="12" fill="#4a90e2" stroke="#333" stroke-width="2"/>
        <text x="450" y="80" text-anchor="middle" font-size="13" font-weight="bold">Dev Commit 3</text>
        <line x1="450" y1="112" x2="450" y2="220" stroke="#9b59b6" stroke-width="3" stroke-dasharray="5,5"/>
        <rect x="405" y="220" width="90" height="35" fill="#e8d5f2" stroke="#9b59b6" stroke-width="2" rx="5"/>
        <text x="450" y="242" text-anchor="middle" font-size="11" font-weight="bold">Runtime Analysis</text>
        <line x1="450" y1="255" x2="450" y2="280" stroke="#27ae60" stroke-width="3" marker-end="url(#arrow3)"/>
        <circle cx="450" cy="285" r="6" fill="#27ae60" stroke="#333" stroke-width="1.5"/>
        <line x1="450" y1="285" x2="450" y2="100" stroke="#27ae60" stroke-width="2" stroke-dasharray="3,3"/>
        
        <!-- Prerelease node -->
        <circle cx="600" cy="100" r="12" fill="#ffa500" stroke="#333" stroke-width="2"/>
        <text x="600" y="80" text-anchor="middle" font-size="13" font-weight="bold">Prerelease</text>
        <line x1="600" y1="112" x2="600" y2="220" stroke="#9b59b6" stroke-width="3" stroke-dasharray="5,5"/>
        <rect x="555" y="220" width="90" height="35" fill="#e8d5f2" stroke="#9b59b6" stroke-width="2" rx="5"/>
        <text x="600" y="242" text-anchor="middle" font-size="11" font-weight="bold">Runtime Analysis</text>
        <line x1="600" y1="255" x2="600" y2="280" stroke="#27ae60" stroke-width="3" marker-end="url(#arrow4)"/>
        <circle cx="600" cy="285" r="6" fill="#27ae60" stroke="#333" stroke-width="1.5"/>
        <line x1="600" y1="285" x2="600" y2="100" stroke="#27ae60" stroke-width="2" stroke-dasharray="3,3"/>
        
        <!-- Release node -->
        <circle cx="750" cy="100" r="14" fill="#27ae60" stroke="#333" stroke-width="2"/>
        <text x="750" y="80" text-anchor="middle" font-size="14" font-weight="bold">Release 1.0</text>
        
        <!-- Arrow markers for each analysis -->
        <defs>
            <marker id="arrow1" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
                <path d="M0,0 L0,8 L8,4 z" fill="#27ae60"/>
            </marker>
            <marker id="arrow2" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
                <path d="M0,0 L0,8 L8,4 z" fill="#27ae60"/>
            </marker>
            <marker id="arrow3" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
                <path d="M0,0 L0,8 L8,4 z" fill="#27ae60"/>
            </marker>
            <marker id="arrow4" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
                <path d="M0,0 L0,8 L8,4 z" fill="#27ae60"/>
            </marker>
        </defs>
        
        <!-- Labels -->
        <text x="50" y="90" font-size="14" font-weight="bold" fill="#4a90e2">Main</text>
        
        <!-- Time arrow at bottom -->
        <line x1="50" y1="350" x2="850" y2="350" stroke="#666" stroke-width="2" marker-end="url(#arrowtime2)"/>
        <text x="450" y="375" text-anchor="middle" font-size="13" font-style="italic">Development Time →</text>
        
        <marker id="arrowtime2" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
            <path d="M0,0 L0,10 L10,5 z" fill="#666"/>
        </marker>
        
        <!-- Annotation -->
        <text x="450" y="405" text-anchor="middle" font-size="12" fill="#555">Runtime analysis executed with every commit (continuous validation)</text>
    </svg>
    </div>
    <h2>Leading to the Problem.</h2>
    <p>Runtime measurements are crucial during the development workflow to prevent timing violations and ensure that the
        system meets its performance requirements.
        One-Shot measurements are insufficient as the tests provide one data point, but do not offer insights into
        performance trends over time or under varying conditions.

    </p>

    <h2>Highlevel system design diagram</h2>

    <pre class="mermaid">
    graph TD
    I(Measurement Input Signal) --- F(FPGA)
    O(Oscillator) --- F(FPGA)
    F(FPGA) ---|UART| S(Smaller CPU)
    S --- |USB/ ETH| L(Larger CPU)

    style F fill:#FFFFED,stroke:#FCE992
    style I fill:none,stroke:#228B22
    linkStyle 0 stroke:#228B22
    </pre>

    <h2>FPGA focused system design diagram</h2>

    <pre class="mermaid">
    graph TD
    I(Measurement Input Signal) --- F
    Hz(1Hz Debug Pin) --- F
    D(Debug Pin) --- F
    O(optional external Oscillator) --- F
    
    subgraph F[FPGA]
        direction TB
        subgraph Left[" "]
            direction TB
            RE[Rising & Falling Edge Detector] --- CC
            CC[ Clock Counter]
            CC --- DSM[Calulation & Measurement Data Storage Module]
            DSM --- U
            OO(Onboard Oscillator) --- CC
            RE --- DSM
        end
        subgraph U[UART]
            direction TB
            URX[UART RX]
            UTX[UART TX]
        end
        Left ~~~ U
    end
    
    F ---|UART| S(Smaller CPU - intermediate storage)
    S ---|USB/ ETH| L(Larger CPU - visualization)
    
    style I fill:none,stroke:#228B22
    style Hz fill:none,stroke:#000000
    style D fill:none,stroke:#000000
    style Left fill:none,stroke:none
    </pre>

    <h2>System Resolution</h2>

    <p>Resolution and accuracy depends on the clocking speed of the system. What is our accuracy if we use an oscillator
        with frequency f?</p>

    <div class="table-container">
        <table class="measurement-table">
            <thead>
                <tr>
                    <th>Frequency (f)</th>
                    <th>Period (T)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>12 MHz</td>
                    <td>83.33 ns</td>
                </tr>
                <tr>
                    <td>50 MHz</td>
                    <td>20 ns</td>
                </tr>
                <tr>
                    <td>100 MHz</td>
                    <td>10 ns</td>
                </tr>
                <tr>
                    <td>500 MHz</td>
                    <td>2 ns</td>
                </tr>
                <tr>
                    <td>1 GHz</td>
                    <td>1 ns</td>
                </tr>
            </tbody>
        </table>
    </div>
    <p>This means with a clocking oscillator of 100 MHz we can measure time events with a resolution of 10 ns.<br>
        Resolution: the smallest time increment you can distinguish (determined by clock period)<br>
        Accuracy: how close your measurement is to the true value (affected by clock stability, jitter, calibration,
        etc.)</p>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    </script>

    <h2>PS:</h2>


    <p>Another driving factor for developing this system was personal interest. I'm fascinated by embedded hardware, but
        my prior work was always focused on one goal: Writing and running software on it. Though that often meant an
        odyssey through compiler issues and hardware reference manuals!</p>

    <p>My long-term aspiration has been to get even closer to the metal, and that's where FPGAs come in. This is the
        perfect intersection: I can realize the high-precision runtime measurement feature using an FPGA. Not only are
        FPGAs inherently fast due to their independence from a main CPU, but the project also gives me a valuable
        opportunity to learn new skills.</p>

    <div class="contact-section">
        <hr>
        <h3>Get in Touch</h3>
        <p>Interested in how this runtime measurement system could optimize your work? Let's discuss your specific use
            case!</p>
        <a href="mailto:sophia.wegers@gmail.com" class="contact-button">Contact Me</a>
    </div>

</body>

</html>