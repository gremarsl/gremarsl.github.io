<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bruttojahresverdienst 1991-2024</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body {
            font-family: monospace;
            padding-left: 2em;
            padding-right: 2em;
            padding-top: 1.5em;
            padding-bottom: 1.5em;
        }
        
        h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
            line-height: 1.2;
        }
        
        h3 {
            font-size: 2rem;
            font-weight: 600;
            margin-top: 1em;
            margin-bottom: 0.5em;
            color: #1a237e;
            line-height: 1.2;
        }
        
        p {
            font-size: 1.5rem;
            line-height: 1.6;
        }
        
        input[type="number"], input[type="text"], select {
            font-size: 2.5rem;
            padding: 0.7em 1em;
            min-width: 140px;
            width: 100%;
            max-width: 400px;
            box-sizing: border-box;
            margin-top: 0.2em;
            margin-bottom: 0.8em;
            border-radius: 0.3em;
            border: 1px solid #bbb;
        }
        
        select {
            width: 7em;
            max-width: 6em;
            min-width: 6em;
        }
        
        label {
            display: block;
            margin-bottom: 0.8em;
            font-size: 1.22rem;
            font-family: inherit;
            font-weight: 500;
            line-height: 1.5;
        }
        
        .info-box {
            background: #e3f2fd;
            border-left: 5px solid #1976d2;
            border-radius: 0.7em;
            padding: 1.1em 1.3em;
            margin: 1.5em 0;
            box-shadow: 0 2px 8px #0001;
            font-size: 1.13rem;
            display: flex;
            align-items: flex-start;
            gap: 1em;
        }
        
        .info-box .info-icon {
            font-size: 1.7em;
            color: #1976d2;
            flex-shrink: 0;
            margin-top: 0.1em;
        }
        
        .chart-container {
            width: 90vw;
            max-width: 900px;
            margin: 40px 0;
            height: 400px;
        }
        
        .stats-display {
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        
        @media (max-width: 600px) {
            label {
                font-size: 1.28rem;
            }
            input[type="number"], input[type="text"], select {
                font-size: 1.28rem;
                min-width: 120px;
                max-width: 100%;
            }
            .stats-display {
                font-size: 1.35rem;
            }
            h2 {
                font-size: 1.5rem;
            }
            h3 {
                font-size: 1.15rem;
            }
            p {
                font-size: 1.18rem;
                line-height: 1.7;
            }
            .info-box {
                font-size: 1.08rem;
                padding: 1em 0.7em;
            }
            .info-box .info-icon {
                font-size: 1.3em;
            }
        }
    </style>
</head>
<body>
    <h2>Bruttojahresverdienst Development</h2>
    <p id="last-updated" style="font-size:1rem; color:#888; margin-top:2em;"></p>
    
    <h3>Salary Growth Analysis 1991-2024</h3>
    
    <div class="info-box">
        <div class="info-icon">‚ÑπÔ∏è</div>
        <div>
            This chart shows the development of gross monthly earnings (Bruttojahresverdienst) over a 33-year period. 
            The data demonstrates steady wage growth with some acceleration in recent years.
        </div>
    </div>
    
    <div class="chart-container">
        <canvas id="salaryChart"></canvas>
    </div>
    
    <h3>Key Statistics</h3>
    
    <div class="stats-display" id="currentSalary">Current salary (2024): ‚Ç¨4,701</div>
    <div class="stats-display" id="totalGrowth">Total growth since 1991: +157%</div>
    <div class="stats-display" id="avgGrowth">Average annual growth: +2.9%</div>
    <div class="stats-display" id="recentGrowth">Recent growth (2023-2024): +5.0%</div>
    <div class="stats-display" id="salaryRange">Salary range: ‚Ç¨1,832 - ‚Ç¨4,701</div>

    <h3>Beginn der letzten Tarifzone - Nominal vs. Inflationsbereinigt</h3>
    
    <div class="info-box">
        <div class="info-icon">üìä</div>
        <div>
            This comparison shows the development of "Beginn der letzten Tarifzone" in nominal terms and inflation-adjusted values (basis 2025). 
            The inflation-adjusted line shows the real purchasing power over time.
        </div>
    </div>
    
    <div class="chart-container">
        <canvas id="comparisonChart"></canvas>
    </div>
    
    <h3>Tarifzone Statistics</h3>
    
    <div class="stats-display" id="currentNominal">Current nominal (2024): ‚Ç¨66,760</div>
    <div class="stats-display" id="currentInflationAdjusted">Current inflation-adjusted (2024): ‚Ç¨66,760</div>
    <div class="stats-display" id="realValueChange">Real value change since 1990: -45.5%</div>

    <hr style="margin: 2em 0; border: 0; border-top: 2px dashed #888;">

    <div style="max-width: 500px; margin: 2em auto; padding: 1.5em; background: #f7fafd; border-radius: 1em; box-shadow: 0 2px 8px #0001; text-align: center;">
        <h3 style="margin-top:0;">Support this project</h3>
        <p style="font-size:1.15rem; margin-bottom:1.2em;">
            This website is a private, non-commercial project.<br>
            If the calculations have helped you or you want to support the development,<br>
            I would be happy about a small donation via PayPal!
        </p>
        
        <form action="https://www.paypal.com/donate/?hosted_button_id=7SZZP5BPYEBMN" method="post" target="_blank">
            <input type="hidden" name="business" value="https://www.paypal.com/donate/?hosted_button_id=7SZZP5BPYEBMN" />
            <input type="hidden" name="currency_code" value="EUR" />
            <button type="submit" style="background:#0070ba;color:#fff;border:none;padding:0.7em 2em;border-radius:0.4em;font-size:1.1rem;cursor:pointer;">
                Support via PayPal
            </button>
        </form>
    </div>

    <script>
        // Set last updated date
        const lastUpdate = new Date(document.lastModified);
        document.getElementById('last-updated').textContent = "Last updated: " + lastUpdate.toLocaleDateString();

        const Bruttojahresverdienste = [
            { "Jahr": 2024, "Bruttojahresverdienst": 4701*12 },
            { "Jahr": 2023, "Bruttojahresverdienst": 4479*12 },
            { "Jahr": 2022, "Bruttojahresverdienst": 4244*12 },
            { "Jahr": 2021, "Bruttojahresverdienst": 4100*12 },
            { "Jahr": 2020, "Bruttojahresverdienst": 3975*12 },
            { "Jahr": 2019, "Bruttojahresverdienst": 3994*12 },
            { "Jahr": 2018, "Bruttojahresverdienst": 3880*12 },
            { "Jahr": 2017, "Bruttojahresverdienst": 3771*12 },
            { "Jahr": 2016, "Bruttojahresverdienst": 3703*12 },
            { "Jahr": 2015, "Bruttojahresverdienst": 3612*12 },
            { "Jahr": 2014, "Bruttojahresverdienst": 3527*12 },
            { "Jahr": 2013, "Bruttojahresverdienst": 3449*12 },
            { "Jahr": 2012, "Bruttojahresverdienst": 3391*12 },
            { "Jahr": 2011, "Bruttojahresverdienst": 3311*12 },
            { "Jahr": 2010, "Bruttojahresverdienst": 3227*12 },
            { "Jahr": 2009, "Bruttojahresverdienst": 3141*12 },
            { "Jahr": 2008, "Bruttojahresverdienst": 3103*12 },
            { "Jahr": 2007, "Bruttojahresverdienst": 3023*12 },
            { "Jahr": 2006, "Bruttojahresverdienst": 2950*12 },
            { "Jahr": 2005, "Bruttojahresverdienst": 2901*12 },
            { "Jahr": 2004, "Bruttojahresverdienst": 2846*12 },
            { "Jahr": 2003, "Bruttojahresverdienst": 2783*12 },
            { "Jahr": 2002, "Bruttojahresverdienst": 2701*12 },
            { "Jahr": 2001, "Bruttojahresverdienst": 2617*12 },
            { "Jahr": 2000, "Bruttojahresverdienst": 2551*12 },
            { "Jahr": 1999, "Bruttojahresverdienst": 2518*12 },
            { "Jahr": 1998, "Bruttojahresverdienst": 2447*12 },
            { "Jahr": 1997, "Bruttojahresverdienst": 2389*12 },
            { "Jahr": 1996, "Bruttojahresverdienst": 2344*12 },
            { "Jahr": 1995, "Bruttojahresverdienst": 2281*12 },
            { "Jahr": 1994, "Bruttojahresverdienst": 2185*12 },
            { "Jahr": 1993, "Bruttojahresverdienst": 2103*12 },
            { "Jahr": 1992, "Bruttojahresverdienst": 2003*12 },
            { "Jahr": 1991, "Bruttojahresverdienst": 1832*12 }
        ];

        // Sort data by year for proper visualization
        Bruttojahresverdienste.sort((a, b) => a.Jahr - b.Jahr);

        // Extract data for chart
        const years = Bruttojahresverdienste.map(item => item.Jahr);
        const salaries = Bruttojahresverdienste.map(item => item.Bruttojahresverdienst);

        // Parse the new Tarifzone data
        const tarifzoneData = `Zeitraum,Beginn der letzten Tarifzone [‚Ç¨],Inflationsbereinigt (Basis 2025)
1990,61376,122392
1991,61376,118025
1992,61376,118025
1993,61376,118025
1994,61376,118025
1995,61376,118025
1996,61376,101663
1997,61376,101663
1998,61376,98781
1999,61376,98192
2000,58643,92524
2001,54998,85072
2002,55008,83995
2003,55008,83995
2004,52152,77451
2005,52152,76306
2006,52152,76306
2007,52152,73417
2008,52152,73417
2009,52552,71890
2010,52882,71553
2011,52882,71553
2013,52882,67758
2014,52882,67087
2015,52882,66754
2016,53666,67406
2017,54057,66894
2018,54950,66797
2019,55961,67086
2020,57051,68053
2021,57918,67010
2022,58596,63418
2023,62809,64191
2024,66760,66760`;

        const tarifzoneLines = tarifzoneData.trim().split('\n').slice(1); // Skip header
        const tarifzoneYears = [];
        const nominalValues = [];
        const inflationAdjustedValues = [];

        tarifzoneLines.forEach(line => {
            const [year, nominal, inflationAdjusted] = line.split(',');
            tarifzoneYears.push(parseInt(year));
            nominalValues.push(parseInt(nominal));
            inflationAdjustedValues.push(parseInt(inflationAdjusted));
        });

        // Calculate statistics
        const firstSalary = salaries[0];
        const lastSalary = salaries[salaries.length - 1];
        const totalGrowthPercent = ((lastSalary - firstSalary) / firstSalary * 100).toFixed(1);
        const avgGrowthPercent = (Math.pow(lastSalary / firstSalary, 1 / (years.length - 1)) - 1) * 100;
        const recentGrowthPercent = ((salaries[salaries.length - 1] - salaries[salaries.length - 2]) / salaries[salaries.length - 2] * 100).toFixed(1);

        // Update stat displays
        document.getElementById('totalGrowth').textContent = `Total growth since 1991: +${totalGrowthPercent}%`;
        document.getElementById('avgGrowth').textContent = `Average annual growth: +${avgGrowthPercent.toFixed(1)}%`;
        document.getElementById('recentGrowth').textContent = `Recent growth (2023-2024): +${recentGrowthPercent}%`;
        document.getElementById('salaryRange').textContent = `Salary range: ‚Ç¨${firstSalary.toLocaleString('de-DE')} - ‚Ç¨${lastSalary.toLocaleString('de-DE')}`;
        
        // Update Tarifzone stats
        const firstInflationAdjusted = inflationAdjustedValues[0];
        const lastInflationAdjusted = inflationAdjustedValues[inflationAdjustedValues.length - 1];
        const lastNominal = nominalValues[nominalValues.length - 1];
        const realValueChangePercent = ((lastInflationAdjusted - firstInflationAdjusted) / firstInflationAdjusted * 100).toFixed(1);
        
        document.getElementById('currentNominal').textContent = `Current nominal (2024): ‚Ç¨${lastNominal.toLocaleString('de-DE')}`;
        document.getElementById('currentInflationAdjusted').textContent = `Current inflation-adjusted (2024): ‚Ç¨${lastInflationAdjusted.toLocaleString('de-DE')}`;
        document.getElementById('realValueChange').textContent = `Real value change since 1990: ${realValueChangePercent}%`;

        // Create the chart
        const ctx = document.getElementById('salaryChart').getContext('2d');
        const chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: years,
                datasets: [{
                    label: 'Bruttojahresverdienst (‚Ç¨)',
                    data: salaries,
                    borderColor: 'darkblue',
                    backgroundColor: 'darkblue',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.1,
                    pointRadius: 3,
                    pointHoverRadius: 6,
                    pointBackgroundColor: 'darkblue',
                    pointBorderColor: '#ffffff',
                    pointBorderWidth: 1,
                    pointHoverBackgroundColor: 'red',
                    pointHoverBorderColor: '#ffffff',
                    pointHoverBorderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Bruttojahresverdienst Development 1991-2024',
                        font: {
                            size: 16,
                            weight: 'bold'
                        }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        titleColor: '#fff',
                        bodyColor: '#fff',
                        borderColor: 'darkblue',
                        borderWidth: 1,
                        cornerRadius: 4,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return `‚Ç¨${context.parsed.y.toLocaleString('de-DE')}`;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Year',
                            font: {
                                size: 12,
                                weight: 'bold'
                            }
                        },
                        ticks: {
                            autoSkip: false,
                            maxRotation: 90,
                            minRotation: 90,
                            font: {
                                size: 10
                            }
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Bruttojahresverdienst (‚Ç¨)',
                            font: {
                                size: 12,
                                weight: 'bold'
                            }
                        },
                        ticks: {
                            font: {
                                size: 10
                            },
                            callback: function(value) {
                                return '‚Ç¨' + value.toLocaleString('de-DE');
                            }
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        },
                        beginAtZero: false
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index'
                }
            }
        });

        // Create the comparison chart (Nominal vs. Inflation-adjusted Tarifzone)
        const ctx2 = document.getElementById('comparisonChart').getContext('2d');
        const comparisonChart = new Chart(ctx2, {
            type: 'line',
            data: {
                labels: tarifzoneYears,
                datasets: [
                    {
                        label: 'Nominal [‚Ç¨]',
                        data: nominalValues,
                        borderColor: 'darkblue',
                        backgroundColor: 'darkblue',
                        borderWidth: 2,
                        fill: false,
                        tension: 0.1,
                        pointRadius: 3,
                        pointHoverRadius: 6,
                        pointBackgroundColor: 'darkblue',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 1,
                        pointHoverBackgroundColor: 'red',
                        pointHoverBorderColor: '#ffffff',
                        pointHoverBorderWidth: 2
                    },
                    {
                        label: 'Inflationsbereinigt (Basis 2025) [‚Ç¨]',
                        data: inflationAdjustedValues,
                        borderColor: 'darkgreen',
                        backgroundColor: 'darkgreen',
                        borderWidth: 2,
                        fill: false,
                        tension: 0.1,
                        pointRadius: 3,
                        pointHoverRadius: 6,
                        pointBackgroundColor: 'darkgreen',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 1,
                        pointHoverBackgroundColor: 'red',
                        pointHoverBorderColor: '#ffffff',
                        pointHoverBorderWidth: 2
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Beginn der letzten Tarifzone: Nominal vs. Inflationsbereinigt',
                        font: {
                            size: 16,
                            weight: 'bold'
                        }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        titleColor: '#fff',
                        bodyColor: '#fff',
                        borderColor: 'darkblue',
                        borderWidth: 1,
                        cornerRadius: 4,
                        displayColors: true,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ‚Ç¨' + context.parsed.y.toLocaleString('de-DE');
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Year',
                            font: {
                                size: 12,
                                weight: 'bold'
                            }
                        },
                        ticks: {
                            autoSkip: false,
                            maxRotation: 90,
                            minRotation: 90,
                            font: {
                                size: 10
                            }
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Beginn der letzten Tarifzone (‚Ç¨)',
                            font: {
                                size: 12,
                                weight: 'bold'
                            }
                        },
                        ticks: {
                            font: {
                                size: 10
                            },
                            callback: function(value) {
                                return '‚Ç¨' + value.toLocaleString('de-DE');
                            }
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        },
                        beginAtZero: false
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index'
                }
            }
        });
    </script>
</body>
</html>